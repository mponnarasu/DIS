/*******************************************************************************************************
*                                       UART0 PROGRAM                                                  *
********************************************************************************************************
*                                     HEADER DECLARATIONS                                              *
*******************************************************************************************************/
#include<lpc21xx.h>
#include "common.h"

 
/******************************************************************************************************
* Function    : ADC_init
*
* Description : 
*               
* Parameter   :
******************************************************************************************************/
void ADC_Init(void)
{
   ADCR = 0x00200401;   
}

unsigned int Read_ADC(void)
{
   unsigned int val;
   ADDR = 0x00;
   ADCR |= 0x01000000 ;                     /* Start A/D Conversion */
   do 
   {
      val = ADDR;                           /* Read A/D Data Register */
   }while ((val & 0x80000000) == 0);        /* Wait for end of A/D Conversion */
   ADCR &= ~0x01000000;                     /* Stop A/D Conversion */
   val = (val >> 6) & 0x03FF;               /* Extract AIN0 Value */ 

   return val;
}


 
/*********************************************END******************************************************/
