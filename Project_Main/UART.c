/*******************************************************************************************************
*                                       UART0 PROGRAM                                                  *
********************************************************************************************************
*                                     HEADER DECLARATIONS                                              *
*******************************************************************************************************/
#include<lpc21xx.h>
#include "common.h"

/*******************************************************************************************************
* Function    : Uart_Init
*
* Description : UART_0 initialization function
*               
* Parameter   : None
*******************************************************************************************************/
void UART_Init(void)
{
   U0LCR=0x83;                           /* line control registor                                     */
   U0DLL=0x61;                           /* baud rate registor                                        */
   U0DLM=0x00;                           /* baud rate registor                                        */
   U0LCR=0x03;                           /* line control registor */  
}
/******************************************************************************************************
* Function    : Uart_Data
*
* Description : UART_0 data transmission function
*               
* Parameter   : data
******************************************************************************************************/
void Uart_Data(unsigned char data )
 {
   U0THR = data;
   while((U0LSR & 0X20)!= 0X20);
 }
 
/******************************************************************************************************
* Function    : Uart_String
*
* Description : UART_0 group of data transmission function
*               
* Parameter   : dat
******************************************************************************************************/
void Uart_String(unsigned char *dat)
 {
    while(*dat!='\0') 
    {
      Uart_Data(*dat);
      dat++;
    }
 }
 
/*******************************************************************************************************
*                                PORT INITIALIZATION FUNCTION                                          *
*******************************************************************************************************/
void Port_Init(void)    
{
   PINSEL0  =  0x00000005;
} 

